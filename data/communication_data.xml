<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- Canaux de communication -->
        <record id="communication_channel_email" model="it.communication.channel">
            <field name="name">Email</field>
            <field name="code">email</field>
            <field name="description">Messages reçus par email</field>
            <field name="requires_response">True</field>
        </record>
        
        <record id="communication_channel_portal" model="it.communication.channel">
            <field name="name">Portail</field>
            <field name="code">portal</field>
            <field name="description">Messages reçus via le portail client</field>
            <field name="requires_response">True</field>
        </record>
        
        
        <record id="communication_channel_phone" model="it.communication.channel">
            <field name="name">Téléphone</field>
            <field name="code">phone</field>
            <field name="description">Communications téléphoniques</field>
            <field name="requires_response">False</field>
        </record>
        
        <!-- Modèles de réponse automatique -->
        <record id="email_template_ticket_received" model="mail.template">
            <field name="name">IT Support: Accusé de réception ticket</field>
            <field name="model_id" ref="model_it_ticket"/>
            <field name="subject">{{ object.company_id.name }}: Nous avons reçu votre demande #{{ object.name }}</field>
            <field name="email_from">{{ (user.email_formatted) }}</field>
            <field name="partner_to">{{ object.partner_id.id }}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px;">
    <p style="margin: 0px; padding: 0px; font-size: 13px;">
        Bonjour <t t-out="object.partner_id.name or 'Cher client'"/>,<br/><br/>
        Nous accusons réception de votre demande de support avec la référence #<t t-out="object.name or ''"/>.
        <br/><br/>
        Un technicien va analyser votre demande et vous répondra dans les plus brefs délais conformément à votre SLA.
        <br/><br/>
        Pour rappel, voici un résumé de votre demande:
        <br/><br/>
        <strong>Sujet:</strong> <t t-out="object.name or ''"/><br/>
        <strong>Priorité:</strong> <t t-out="dict(object._fields['priority'].selection).get(object.priority) or ''"/><br/>
        <strong>Description:</strong><br/>
        <div style="margin-left: 10px;">
            <t t-out="object.description or ''"/>
        </div>
        <br/><br/>
        Vous pouvez suivre l'avancement de votre demande à tout moment via notre portail client.
        <br/><br/>
        Cordialement,<br/>
        L'équipe support
    </p>
</div>
            </field>
            <field name="lang">{{ object.partner_id.lang }}</field>
            <field name="auto_delete" eval="True"/>
        </record>
    </data>
</odoo>